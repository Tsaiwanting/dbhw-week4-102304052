<html>  <head>
  <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/lodash/4.6.1/lodash.min.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
  <!-- fontawesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="./main.css">
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script type="text/javascript" src="./main.js"></script>

 </head>
  <body>
  <nav class="navbar navbar-danger navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#"></a>
      </div>
    </div>
  </nav>



  <div class="jumbotron">
    <div class="container">
      <br>
      <br>
      <h1>台北捷運到站紀錄</h1>
    </div>
  </div>

    <i id="loading" class="fa fa-refresh fa-spin fa-5x"></i>

    <div id="content" class="container"></div>

    <nav class="navbar navbar-inverse navbar-fixed-bottom">
      <h5 id="navBottom">&copy; NCCU STAT 102304052 蔡宛廷</h5>
    </nav>

  </body>
  <script>
    $(document).ready(function() {
      getData(function(err, data) {
        if(err) {
          console.log(err);
        }
        else {
          var JSONstationList = data.result.results;
          var HTMLstationList = JSONstationList.map(function(station) {
            var HTMLString = "<h2>"+"進站："+station.Station+"</h2>";
            var attributes = "";
            for (var key in station) {
              if(key!="_id"){
                attributes += "<li class='list-group-item'>" + key + "：" + station[key] + "</li>";
              }
            }
            var HTMLString = HTMLString + attributes;
            return HTMLString;
          });
          HTMLstationList.forEach(function(html) {
            $(html).appendTo("#content");
          });
          $('#loading').css('display','none');
        }
      });
    });
  </script>
</html>
